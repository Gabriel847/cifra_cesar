<!DOCTYPE html>
<html>
<body>
	<script type="text/javascript">
		/*
			Em criptografia, a Cifra de César, também conhecida como cifra de troca, código de César ou troca de César, é uma das mais simples e conhecidas técnicas de criptografia. É um tipo de cifra de substituição na qual cada letra do texto é substituída por outra, que se apresenta no alfabeto abaixo dela um número fixo de vezes. Por exemplo, com uma troca de três posições, A seria substituído por D, B se tornaria E, e assim por diante. O nome do método é em homenagem a Júlio César, que o usou para se comunicar com os seus generais.
			Crie um programa em JavaScript que realize a criptografia e a descriptografia de uma frase usando a Cifra de César.
			Ao abrir o arquivo index.html, deverá aparecer um prompt solicitando o processo desejado: criptografia ou descriptografia.
			Ao optar por criptografia, solicite a chave e depois a frase a ser criptografada. Ambas devem ser solicitadas via prompt. A chave sempre é um número inteiro de 1 a 26. Após criptografar, mostre a frase criptografada na página usando window.write().
			Senão usuário optar por descriptografar, solicite a chave e a frase criptografada. Ambas usando prompt. Descriptografe a frase e escreva na página usando window.write().
		*/
		const alfabeto = new Array("A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z");

		let opcao = prompt("1-Codificar\n2-Decodificar");
		let chave,frase,parcial,resultado;
			
		switch (opcao) {
			case "1":
				
				chave = prompt("Número de chaves");
				chave = parseInt(chave,0);
				frase = prompt("Insira o código");
				frase = frase.toUpperCase();  

				for (let n = 0; n < frase.length; n++) {
					if(frase.charAt(n) != " "){
						for (let f = 0; f <= alfabeto.length; f++) {
							if(frase.charAt(n) == alfabeto[f]){
								if((f + chave) >= 0 && (f + chave) <= 25){
									resultado += resultado + alfabeto[f+chave];
								}else{
									parcial = chave - (26-f);
									resultado += resultado + alfabeto[parcial];
								}
							}
						}
					}else{
						resultado += resultado + " ";
					}
				}
				resultado = resultado.toUpperCase();
				document.write(resultado.slice(-frase.length));		
				break;
			case "2":
				chave = prompt("Número de chaves");
				chave = parseInt(chave,0);
				frase = prompt("Insira o código");
				frase = frase.toUpperCase();  

				for (let n = 0; n < frase.length; n++) {
					if(frase.charAt(n) != " "){
						for (let f = 0; f <= alfabeto.length; f++) {
							if(frase.charAt(n) == alfabeto[f]){
								if((f - chave) >= 0){
									resultado += resultado + alfabeto[f-chave];
								}else{
									parcial = 26 + (f-chave);
									resultado += resultado + alfabeto[parcial];
								}
							}
						}
					}else{
						resultado += resultado + " ";
					}
				}
				resultado = resultado.toUpperCase();
				document.write(resultado.slice(-frase.length));
				break;
		}
		document.write("<br/><a href='teste.html'>Refazer</a>");
	</script>
</body>
</html>
